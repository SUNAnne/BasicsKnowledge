<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ES6 - let - const</title>
</head>

<body>

</body>
<script>
    // 注：以下代码需分开执行，每一个“--------””--------“代表一个demo，若一起执行可能会影响执行结果

    /**
        let与var的区别：
        1.let：块级作用域
          var：全局作用域
        2.let：不能重复声明
          var：可以重复声明
        3.let没有变量申明提升
          var有变量申明提升
        4.let有暂时性死区（暂时性死区简易理解：let/const会使区块之间形成封闭的作用域，在声明之前使用变量就会报错，在let代码块内，使用let命令声明变量之前，该变量都是不可用的，这在语法上称为暂时性死区（temporal dead zone,简称TDZ））
          var没有暂时性死区
        
        常量const：一经定义就不能改变的量

    */


    // -------------------------------------------------------------------------------------------------------
    // 块级作用域
    {
        let a = 10;
        var b = 15;
    }
    console.log(b); // 15
    console.log(a); // Uncaught ReferenceError: a is not defined 报错，这就是块级作用域
    // 注意：先打印b在打印a可以打印出b为15，a为undefined；先打印a在打印b，a为undefined且报错，b的值不打印。
    // -------------------------------------------------------------------------------------------------------


    // -------------------------------------------------------------------------------------------------------
    //  let不能重复声明
    let a1 = 10;
    let a1 = 15; // 在这一行会打印：Uncaught SyntaxError: Identifier 'a1' has already been declared 报错，提示已声明
    console.log(a1); // 不打印
    // -------------------------------------------------------------------------------------------------------


    // -------------------------------------------------------------------------------------------------------
    // var可以重复声明
    let b1 = 1;
    let b2 = 2;
    console.log(b2); // 2 正常使用且不报错
    // -------------------------------------------------------------------------------------------------------


    // -------------------------------------------------------------------------------------------------------
    // 变量提升
    console.log(a3); // undefined
    var a3 = 6; // 变量提升
    console.log(a3); // 6
    // -------------------------------------------------------------------------------------------------------
    // 相当于下面的写法
    // -------------------------------------------------------------------------------------------------------
    var a4;
    console.log(a4);//undefined
    a4 = 6; // 变量的提升
    console.log(a4); // 6 
    // -------------------------------------------------------------------------------------------------------


    // -------------------------------------------------------------------------------------------------------
    console.log(a5); // Uncaught ReferenceError: Cannot access 'a5' before initialization
    let a5 = 10;
    console.log(a5); // 报错，不执行
    // -------------------------------------------------------------------------------------------------------


    // -------------------------------------------------------------------------------------------------------    
    // 暂时性死区
    var a6 = 10;
    if (true) {
        console.log(a6); // 报错
        let a6 = 15;
        console.log(a6);
    }
    // -------------------------------------------------------------------------------------------------------    


    // -------------------------------------------------------------------------------------------------------
    // 常量const
    const a7 = 18;
    console.log(a7); // 18
    a7 = 19;
    console.log(a7); // Uncaught TypeError: Assignment to constant variable. 报错
    // -------------------------------------------------------------------------------------------------------


</script>

</html>